---
title: "Monocle 2 Clustering"
author: "Justin M Fear"
date: 'Compiled: `r format(Sys.Date(), "%B %d, %Y")`'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse=TRUE, warning=FALSE, message=FALSE, cache.lazy=FALSE,
                      bootstrap.show.code=FALSE, bootstrap.show.output=FALSE,
                      fig.ext='png')
```

```{r snakemake, include=FALSE, eval=TRUE}
SAMPLE <- snakemake@wildcards[['sample']]
DATA_DIR <- file.path('../', dirname(snakemake@input[["data"]]))
OUTDIR <- file.path('../', dirname(snakemake@output[[1]]))
REP <- snakemake@params[['rep']]
```

```{r debug, include=FALSE, eval=FALSE}
SAMPLE <- 'testis1'
DATA_DIR <- '../../output/cellranger-force-wf/testis1/outs/filtered_gene_bc_matrices/dmelr6-24'
OUT_DIR <- '../../output/monocle-cluster-wf/cellranger-force-wf/test/testis1'
REP <- 'rep1'
```

```{r set_other_globas, include=FALSE}
REFERENCES_DIR <- Sys.getenv('REFERENCES_DIR', '/data/LCDB/lcdb-references')
```

## `r SAMPLE`
`r DATA_DIR`

```{r load_libraries, include=FALSE}
options(repr.plot.width=10, repr.plot.height=10)
library('monocle')
library('dplyr')
library('gridExtra')
```

```{r eval=FALSE}
#read.table(file.path(REFERENCES_DIR, 'dmel/r6-24/fb_annotation/dmel_r6-24.fb_annotation'),  sep='\t',  stringsAsFactors = FALSE,  header = TRUE)
genes <- read.table('/data/LCDB/lcdb-references/dmel/r6-24/fb_annotation/dmel_r6-24.fb_annotation',
		    sep='\t',
		    stringsAsFactors=F,
		    header=T,
		    quote=NULL,
		    fill=TRUE,
		    colClasses=c("character", "NULL", "character", rep("NULL", 6))
		    )
```

